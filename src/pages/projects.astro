---
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import PageHead from '@/components/PageHead.astro'
import Layout from '@/layouts/Layout.astro'
import { Icon } from 'astro-icon/components'

const currentUrl = Astro.url

const projects = [
  {
    id: 1,
    title: "Portfolio Website",
    description: "Modern portfolio website built with Astro, React and Tailwind CSS. Fully responsive and optimized performance.",
    tags: ["Astro", "React", "Tailwind CSS"],
    githubUrl: "https://github.com/domifar/portfoliowebsite",
    year: "2025"
  },
  {
    id: 2,
    title: "TrackTimer",
    description: "App where you can set racetracks on public roads and set lap times.",
    tags: ["React-Native", "Expo", "Firestore DB"],
    githubUrl: "https://github.com/domifar/TrackTimer",
    year: "2025"
  },
  {
    id: 3,
    title: "PokerTimer",
    description: "Timer for counting blinds and automatically rising them within a specific timespan.",
    tags: ["React", "Vite", "Firestore DB"],
    githubUrl: "https://github.com/domifar/PokertimerClient",
    year: "2023"
  },
]
---

<Layout canonicalUrl={currentUrl}>
  <PageHead slot="head" title="Projects" />
  
  <Breadcrumbs
    items={[
      { label: 'Projects', href: '/projects', icon: 'lucide:code' },
    ]}
  />
  
  <section class="max-screen mt-12 px-4 md:px-6">
    <div class="flex w-fit items-center gap-2 text-primary">
      <Icon class="h-4 w-4 text-secondary-foreground" name="lucide:code" />
      <p class="font-mono text-sm uppercase leading-none text-secondary-foreground">
        My Work
      </p>
    </div>
    
    <h1 class="font-custom text-foreground text-4xl font-bold mt-2">
      Projects
    </h1>
    
    <p class="text-muted-foreground text-md max-w-2xl mt-3 mb-12">
      A collection of my development projects. Each project includes a direct link to the GitHub repository with the complete source code.
    </p>

    <!-- Projects List -->
    <div class="space-y-8">
      {projects.map((project) => (
        <div class="group bg-card rounded-xl p-6 shadow-sm border border-border hover:border-primary/30 hover:shadow-md transition-all duration-300">
          <div class="flex flex-col md:flex-row md:items-start justify-between gap-4">
            <!-- Project Info -->
            <div class="flex-1">
              <div class="flex items-start justify-between mb-3">
                <div>
                  <h3 class="text-xl font-bold text-foreground group-hover:text-primary transition-colors">
                    {project.title}
                  </h3>
                  <div class="flex items-center gap-2 mt-1">
                    <Icon name="lucide:calendar" class="h-3 w-3 text-muted-foreground" />
                    <span class="text-sm text-muted-foreground">{project.year}</span>
                  </div>
                </div>
                
                <!-- GitHub Button -->
                <a 
                  href={project.githubUrl}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors group/github ml-4"
                  aria-label={`GitHub Repository for ${project.title}`}
                >
                  <Icon 
                    name="lucide:github" 
                    class="h-5 w-5 group-hover/github:scale-110 transition-transform" 
                  />
                  <span class="hidden sm:inline">Repository</span>
                </a>
              </div>
              
              <!-- Description -->
              <p class="text-muted-foreground mb-4">
                {project.description}
              </p>
              
              <!-- Tags -->
              <div class="flex flex-wrap gap-2">
                {project.tags.map((tag) => (
                  <span class="px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm font-medium">
                    {tag}
                  </span>
                ))}
              </div>
            </div>
          </div>
          
          <!-- Mobile GitHub Button -->
          <div class="mt-6 md:hidden">
            <a 
              href={project.githubUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors group/github"
            >
              <Icon 
                name="lucide:github" 
                class="h-5 w-5 group-hover/github:scale-110 transition-transform" 
              />
              <span>View on GitHub</span>
              <Icon name="lucide:arrow-up-right" class="h-4 w-4" />
            </a>
          </div>
        </div>
      ))}
    </div>

    <!-- GitHub Profile Link -->
    <div class="mt-16 pt-8 border-t border-border">
      <div class="bg-card rounded-xl p-6 shadow-sm border border-border">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0">
              <Icon name="lucide:github" class="h-6 w-6 text-primary" />
            </div>
            <div>
              <h3 class="text-lg font-bold text-foreground mb-1">All Projects on GitHub</h3>
              <p class="text-muted-foreground">
                Visit my GitHub profile to see all projects, contributions and code examples.
              </p>
            </div>
          </div>
          
          <a 
            href="https://github.com/yourusername"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors group"
          >
            <Icon name="lucide:external-link" class="h-5 w-5" />
            <span>Open GitHub Profile</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .group {
    transition: all 0.3s ease;
  }

  .group:hover {
    transform: translateY(-2px);
  }
</style>